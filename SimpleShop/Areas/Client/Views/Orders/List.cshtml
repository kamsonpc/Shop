@using GridMvc.Sorting
@using SimpleShop.Areas.Client.Models.Orders
@model IEnumerable<OrdersPageVM>
@{
	ViewBag.Title = "List";
}

<h2>List</h2>


@Html.Grid(Model).Columns(columns =>
{
	/* Adding not mapped column, that renders body, using inline Razor html helper */
	columns.Add()
		.Encoded(false)
		.Sanitized(false)
		.SetWidth(30)
		.RenderValueAs(d =>
			@<b>
				@Html.ActionLink("Edit", "Index")
			</b>);

/* Adding "OrderID" column: */
			columns.Add(o => o.Id)
				.Titled("Number")
				.SetWidth(100);

/* Adding "OrderDate" column: */
			columns.Add(o => o.Date, "OrderCustomDate")
				.Titled("Date")
				.SortInitialDirection(GridSortDirection.Descending)
				.Format("{0:dd/MM/yyyy}")
				.SetWidth(110);

/* Adding "CompanyName" column: */
			columns.Add(o => o.ProductName)
				.Titled("Company Name")
				.ThenSortByDescending(o => o.Id)
				.SetFilterWidgetType("CustomCompanyNameFilterWidget");

		}).WithPaging(15).Sortable().Filterable().WithMultipleFilters()
