@model IEnumerable<SimpleShop.Models.ViewsModels.ProductVM>

@{
	ViewBag.Title = "Index";
	decimal fullPrice = 0;
}

<h2>Koszyk</h2>

<table class="table table-hover table-bordered">
	<tr>
		<th></th>
		<th>
			@Html.DisplayNameFor(model => model.Name)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Price)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.CustomerQuantity)
		</th>
		<th>

		</th>
	</tr>

	@foreach (var item in Model)
	{
		fullPrice += item.Price * item.CustomerQuantity;
		<tr>
			<td>
				<a href="@Url.Action("Details", "Product", new {id = item.ProductId})">
					<img class="group index-product-img" src="@Url.Content("~/UploadedFiles/" + @item.Img)" alt="" />
				</a>
			</td>
			<td>
				<a href="@Url.Action("Details", "Product", new {id = item.ProductId})">
					@Html.DisplayFor(modelItem => item.Name)
					</a>
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Price)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.CustomerQuantity)
			</td>
			<td>
				<a class="btn btn-danger" href="@Url.Action("Remove", "Cart",new { id = item.ProductId})"><i class="glyphicon glyphicon-remove "></i></a>
			</td>
		</tr>
	}
</table>
<h3>Całkowity Koszt : <b>@string.Format("{0:C}", fullPrice)</b></h3>
<hr />

<a class="btn btn-lg btn-success" href="@Url.Action("Confirm", "Cart")">Zamów Przedmioty <i class="glyphicon glyphicon-ok"></i></a>
<a class="btn btn-lg btn-primary" href="@Url.Action("Index", "Product")">Kontynuj zakupy <i class="glyphicon glyphicon-arrow-right"></i></a>
